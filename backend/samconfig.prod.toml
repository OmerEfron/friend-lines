# SAM CLI Production Configuration
# Usage: sam deploy --config-file samconfig.prod.toml

version = 0.1

[default.global.parameters]
stack_name = "friendlines-backend-prod"
region = "us-east-1"

[default.build.parameters]
cached = true
parallel = true

[default.deploy.parameters]
capabilities = "CAPABILITY_IAM"
confirm_changeset = true
resolve_s3 = true
s3_prefix = "friendlines-backend-prod"
# Update JwtSecretArn with your actual Secrets Manager secret ARN before deploying
# EnableMorningBriefing: set to 'true' only after adding EventBridge permissions (see docs/MORNING_BRIEFING_SETUP.md)
parameter_overrides = "Environment=prod S3BucketName=friendlines-media-prod JwtSecretArn=arn:aws:secretsmanager:us-east-1:327756948560:secret:friendlines/jwt-secret-q5fjTU EnableMorningBriefing=false"

[default.validate.parameters]
lint = true

[default.sync.parameters]
watch = true

